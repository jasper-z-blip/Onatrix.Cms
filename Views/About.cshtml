@using System.Linq
@using Umbraco.Cms.Core.Models.Blocks
@using Umbraco.Extensions
@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage

@{
    Layout = "Shared/_Layout.cshtml";
    var sections = Model.Value<BlockListModel>("pageSections");
}

@await Html.PartialAsync("Partials/About/_Hero")

@if (sections != null && sections.Any())
{
    foreach (var block in sections)
    {
        var alias = block.Content?.ContentType?.Alias ?? string.Empty;

        if (alias.Equals("aboutIntroBlock", StringComparison.OrdinalIgnoreCase))
        {
            @await Html.PartialAsync("Partials/Blocks/AboutIntroBlock", block)
        }
        else if (alias.Equals("aboutTrustedBlock", StringComparison.OrdinalIgnoreCase))
        {
            @await Html.PartialAsync("Partials/Blocks/AboutTrustedBlock", block.Content)
        }
    }
}

@await Html.PartialAsync("Partials/About/_Team")

@if (sections != null && sections.Any())
{
    foreach (var block in sections)
    {
        var alias = block.Content?.ContentType?.Alias ?? string.Empty;

        if (alias.Equals("aboutContactBlock", StringComparison.OrdinalIgnoreCase))
        {
            @await Html.PartialAsync("Partials/Blocks/AboutContactBlock", block.Content)
        }
    }
}
