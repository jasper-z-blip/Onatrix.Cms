@using Umbraco.Cms.Core.Models.Blocks
@using Umbraco.Cms.Core.Models.PublishedContent
@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage<IPublishedElement>

@{
    var eyebrow = Model.Value<string>("serviceEyebrow");
    var title = Model.Value<string>("serviceTitle");
    var cards = Model.Value<BlockListModel>("serviceItems");
}

<section class="bg-bg-lightgrey pt-8 pb-12">
    <div class="page-container text-center">
        @if (!string.IsNullOrWhiteSpace(eyebrow))
        {
            <p class="eyebrow">@eyebrow</p>
        }

        @if (!string.IsNullOrWhiteSpace(title))
        {
            <h2>@Html.Raw(title)</h2>
        }
    </div>

    @if (cards != null && cards.Any())
    {
        <div class="page-container mt-8">
            <div class="grid gap-6 md:grid-cols-2 lg:grid-cols-3">

                @foreach (var card in cards)
                {
                    var content = card.Content;

                    var cardTitle = content.Value<string>("cardTitle");
                    var cardText = content.Value<string>("cardText");
                    var cardImage = content.Value<IPublishedContent>("cardImage");

                    <div class="card">
                        @if (cardImage != null)
                        {
                            <img src="@cardImage.Url()" alt="@cardTitle" />
                        }

                        <h5>@cardTitle</h5>
                        <p>@Html.Raw(cardText)</p>
                    </div>
                }
            </div>
        </div>
    }
</section>
