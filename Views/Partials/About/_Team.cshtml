@using System.Linq
@using Umbraco.Cms.Core.Models.Blocks
@using Umbraco.Cms.Core.Models.PublishedContent
@using Umbraco.Extensions
@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage

@{
    var eyebrow = Model.Value<string>("teamEyebrow");
    var header = Model.Value<string>("teamHeader");
    var team = Model.Value<BlockListModel>("teamMembers");

    var firstRow = team?.Take(3).ToList();
    var secondRow = team?.Skip(3).Take(4).ToList();
}

<section class="page-container pt-8 pb-12">

    <div class="text-center mb-10">
        @if (!string.IsNullOrWhiteSpace(eyebrow))
        {
            <p class="eyebrow">@eyebrow</p>
        }

        @if (!string.IsNullOrWhiteSpace(header))
        {
            <h2>@Html.Raw(header)</h2>
        }
    </div>

    @if (firstRow != null && firstRow.Any())
    {
        <div class="flex gap-6 justify-center">
            @foreach (var person in firstRow)
            {
                var content = person.Content;
                var name = content.Value<string>("memberName");
                var role = content.Value<string>("memberRole");
                var photo = content.Value<IPublishedContent>("memberPhoto");

                <div class="border-card w-[250px]">
                    @if (photo != null)
                    {
                        <img src="@photo.Url()" alt="@name" />
                    }

                    <div class="card-padding">
                        <h5>@name</h5>
                        <p>@role</p>
                    </div>
                </div>
            }
        </div>
    }

    @if (secondRow != null && secondRow.Any())
    {
        <div class="flex gap-6 justify-center mt-10">
            @foreach (var person in secondRow)
            {
                var content = person.Content;
                var name = content.Value<string>("memberName");
                var role = content.Value<string>("memberRole");
                var photo = content.Value<IPublishedContent>("memberPhoto");

                <div class="border-card w-[250px]">
                    @if (photo != null)
                    {
                        <img src="@photo.Url()" alt="@name" />
                    }

                    <div class="card-padding">
                        <h5>@name</h5>
                        <p>@role</p>
                    </div>
                </div>
            }
        </div>
    }

</section>
